FIXTURE="Refreshing Terraform state in-memory prior to plan...\nThe refreshed state will be used to calculate this plan, but will not be\npersisted to local or remote state storage.\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed. Cyan entries are data sources to be read.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ module.VM.vsphere_virtual_machine.vm\n    custom_configuration_parameters.%:                              \"4\"\n    custom_configuration_parameters.guestinfo.vm.chef.environment:  \"foobar\"\n    custom_configuration_parameters.guestinfo.vm.chef.organization: \"foobar\"\n    custom_configuration_parameters.guestinfo.vm.chef.role:         \"foobar\"\n    custom_configuration_parameters.guestinfo.vm.lvm.sdb:           \"10G\"\n    datacenter:                                                     \"Test\"\n    detach_unknown_disks_on_delete:                                 \"false\"\n    disk.#:                                                         \"2\"\n    disk.3549496356.bootable:                                       \"\"\n    disk.3549496356.controller_type:                                \"scsi\"\n    disk.3549496356.datastore:                                      \"Datastore1 of the image\"\n    disk.3549496356.iops:                                           \"\"\n    disk.3549496356.keep_on_remove:                                 \"\"\n    disk.3549496356.key:                                            \"<computed>\"\n    disk.3549496356.name:                                           \"foobar-01-disk1\"\n    disk.3549496356.size:                                           \"50\"\n    disk.3549496356.template:                                       \"\"\n    disk.3549496356.type:                                           \"thin\"\n    disk.3549496356.uuid:                                           \"<computed>\"\n    disk.3549496356.vmdk:                                           \"\"\n    disk.769064163.bootable:                                        \"\"\n    disk.769064163.controller_type:                                 \"scsi\"\n    disk.769064163.datastore:                                       \"Datastore2 of the image\"\n    disk.769064163.iops:                                            \"\"\n    disk.769064163.keep_on_remove:                                  \"\"\n    disk.769064163.key:                                             \"<computed>\"\n    disk.769064163.name:                                            \"\"\n    disk.769064163.size:                                            \"\"\n    disk.769064163.template:                                        \"Template name\"\n    disk.769064163.type:                                            \"thin\"\n    disk.769064163.uuid:                                            \"<computed>\"\n    disk.769064163.vmdk:                                            \"\"\n    dns_servers.#:                                                  \"1\"\n    dns_servers.0:                                                  \"1.2.3.4\"\n    dns_suffixes.#:                                                 \"1\"\n    dns_suffixes.0:                                                 \"example.org\"\n    domain:                                                         \"example.org\"\n    enable_disk_uuid:                                               \"false\"\n    folder:                                                         \"Non Production\"\n    linked_clone:                                                   \"false\"\n    memory:                                                         \"1024\"\n    memory_reservation:                                             \"0\"\n    name:                                                           \"CHANGEME\"\n    network_interface.#:                                            \"1\"\n    network_interface.0.ip_address:                                 \"<computed>\"\n    network_interface.0.ipv4_address:                               \"<computed>\"\n    network_interface.0.ipv4_gateway:                               \"<computed>\"\n    network_interface.0.ipv4_prefix_length:                         \"<computed>\"\n    network_interface.0.ipv6_address:                               \"<computed>\"\n    network_interface.0.ipv6_gateway:                               \"<computed>\"\n    network_interface.0.ipv6_prefix_length:                         \"<computed>\"\n    network_interface.0.label:                                      \"Network interface to use\"\n    network_interface.0.mac_address:                                \"<computed>\"\n    network_interface.0.subnet_mask:                                \"<computed>\"\n    resource_pool:                                                  \"Resource pool for the VM\"\n    skip_customization:                                             \"false\"\n    time_zone:                                                      \"Etc/UTC\"\n    uuid:                                                           \"<computed>\"\n    vcpu:                                                           \"1\"\nPlan: 1 to add, 0 to change, 0 to destroy.".freeze

OUTPUT={"+ module.VM.vsphere_virtual_machine.vm"=>
        {"custom_configuration_parameters.%"=>"4",
         "custom_configuration_parameters.guestinfo.vm.chef.environment"=>"foobar",
         "custom_configuration_parameters.guestinfo.vm.chef.organization"=>"foobar",
         "custom_configuration_parameters.guestinfo.vm.chef.role"=>"foobar",
         "custom_configuration_parameters.guestinfo.vm.lvm.sdb"=>"10G",
         "datacenter"=>"Test",
         "detach_unknown_disks_on_delete"=>"false",
         "disk.#"=>"2",
         "disk.3549496356.bootable"=>"",
         "disk.3549496356.controller_type"=>"scsi",
         "disk.3549496356.datastore"=>"Datastore1 of the image",
         "disk.3549496356.iops"=>"",
         "disk.3549496356.keep_on_remove"=>"",
         "disk.3549496356.key"=>"<computed>",
         "disk.3549496356.name"=>"foobar-01-disk1",
         "disk.3549496356.size"=>"50",
         "disk.3549496356.template"=>"",
         "disk.3549496356.type"=>"thin",
         "disk.3549496356.uuid"=>"<computed>",
         "disk.3549496356.vmdk"=>"",
         "disk.769064163.bootable"=>"",
         "disk.769064163.controller_type"=>"scsi",
         "disk.769064163.datastore"=>"Datastore2 of the image",
         "disk.769064163.iops"=>"",
         "disk.769064163.keep_on_remove"=>"",
         "disk.769064163.key"=>"<computed>",
         "disk.769064163.name"=>"",
         "disk.769064163.size"=>"",
         "disk.769064163.template"=>"Template name",
         "disk.769064163.type"=>"thin",
         "disk.769064163.uuid"=>"<computed>",
         "disk.769064163.vmdk"=>"",
         "dns_servers.#"=>"1",
         "dns_servers.0"=>"1.2.3.4",
         "dns_suffixes.#"=>"1",
         "dns_suffixes.0"=>"example.org",
         "domain"=>"example.org",
         "enable_disk_uuid"=>"false",
         "folder"=>"Non Production",
         "linked_clone"=>"false",
         "memory"=>"1024",
         "memory_reservation"=>"0",
         "name"=>"CHANGEME",
         "network_interface.#"=>"1",
         "network_interface.0.ip_address"=>"<computed>",
         "network_interface.0.ipv4_address"=>"<computed>",
         "network_interface.0.ipv4_gateway"=>"<computed>",
         "network_interface.0.ipv4_prefix_length"=>"<computed>",
         "network_interface.0.ipv6_address"=>"<computed>",
         "network_interface.0.ipv6_gateway"=>"<computed>",
         "network_interface.0.ipv6_prefix_length"=>"<computed>",
         "network_interface.0.label"=>"Network interface to use",
         "network_interface.0.mac_address"=>"<computed>",
         "network_interface.0.subnet_mask"=>"<computed>",
         "resource_pool"=>"Resource pool for the VM",
         "skip_customization"=>"false",
         "time_zone"=>"Etc/UTC",
         "uuid"=>"<computed>",
         "vcpu"=>"1"}}.freeze

VM_NAME='+ module.VM.vsphere_virtual_machine.vm'.freeze

RESOURCE={"custom_configuration_parameters.%"=>"4",
         "custom_configuration_parameters.guestinfo.sd.chef.environment"=>"foobar",
         "custom_configuration_parameters.guestinfo.sd.chef.organization"=>"foobar",
         "custom_configuration_parameters.guestinfo.sd.chef.role"=>"foobar",
         "custom_configuration_parameters.guestinfo.sd.lvm.sdb"=>"10G",
         "datacenter"=>"Test",
         "detach_unknown_disks_on_delete"=>"false",
         "disk.#"=>"2",
         "disk.3549496356.bootable"=>"",
         "disk.3549496356.controller_type"=>"scsi",
         "disk.3549496356.datastore"=>"Datastore1 of the image",
         "disk.3549496356.iops"=>"",
         "disk.3549496356.keep_on_remove"=>"",
         "disk.3549496356.key"=>"<computed>",
         "disk.3549496356.name"=>"foobar-01-disk1",
         "disk.3549496356.size"=>"50",
         "disk.3549496356.template"=>"",
         "disk.3549496356.type"=>"thin",
         "disk.3549496356.uuid"=>"<computed>",
         "disk.3549496356.vmdk"=>"",
         "disk.769064163.bootable"=>"",
         "disk.769064163.controller_type"=>"scsi",
         "disk.769064163.datastore"=>"Datastore2 of the image",
         "disk.769064163.iops"=>"",
         "disk.769064163.keep_on_remove"=>"",
         "disk.769064163.key"=>"<computed>",
         "disk.769064163.name"=>"",
         "disk.769064163.size"=>"",
         "disk.769064163.template"=>"Template name",
         "disk.769064163.type"=>"thin",
         "disk.769064163.uuid"=>"<computed>",
         "disk.769064163.vmdk"=>"",
         "dns_servers.#"=>"1",
         "dns_servers.0"=>"1.2.3.4",
         "dns_suffixes.#"=>"1",
         "dns_suffixes.0"=>"example.org",
         "domain"=>"example.org",
         "enable_disk_uuid"=>"false",
         "folder"=>"Non Production",
         "linked_clone"=>"false",
         "memory"=>"1024",
         "memory_reservation"=>"0",
         "name"=>"CHANGEME",
         "network_interface.#"=>"1",
         "network_interface.0.ip_address"=>"<computed>",
         "network_interface.0.ipv4_address"=>"<computed>",
         "network_interface.0.ipv4_gateway"=>"<computed>",
         "network_interface.0.ipv4_prefix_length"=>"<computed>",
         "network_interface.0.ipv6_address"=>"<computed>",
         "network_interface.0.ipv6_gateway"=>"<computed>",
         "network_interface.0.ipv6_prefix_length"=>"<computed>",
         "network_interface.0.label"=>"Network interface to use",
         "network_interface.0.mac_address"=>"<computed>",
         "network_interface.0.subnet_mask"=>"<computed>",
         "resource_pool"=>"Resource pool for the VM",
         "skip_customization"=>"false",
         "time_zone"=>"Etc/UTC",
         "uuid"=>"<computed>",
         "vcpu"=>"1"}.freeze

DISKS={"disk.3549496356.bootable"=>"",
         "disk.3549496356.controller_type"=>"scsi",
         "disk.3549496356.datastore"=>"Datastore1 of the image",
         "disk.3549496356.iops"=>"",
         "disk.3549496356.keep_on_remove"=>"",
         "disk.3549496356.key"=>"<computed>",
         "disk.3549496356.name"=>"foobar-01-disk1",
         "disk.3549496356.size"=>"50",
         "disk.3549496356.template"=>"",
         "disk.3549496356.type"=>"thin",
         "disk.3549496356.uuid"=>"<computed>",
         "disk.3549496356.vmdk"=>"",
         "disk.769064163.bootable"=>"",
         "disk.769064163.controller_type"=>"scsi",
         "disk.769064163.datastore"=>"Datastore2 of the image",
         "disk.769064163.iops"=>"",
         "disk.769064163.keep_on_remove"=>"",
         "disk.769064163.key"=>"<computed>",
         "disk.769064163.name"=>"",
         "disk.769064163.size"=>"",
         "disk.769064163.template"=>"Template name",
         "disk.769064163.type"=>"thin",
         "disk.769064163.uuid"=>"<computed>",
         "disk.769064163.vmdk"=>""}.freeze
